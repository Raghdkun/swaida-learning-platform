import{r as w,j as e,H as S,L as i,a as d}from"./app-XCWzyg_D.js";import{A as v}from"./app-layout-VYuuSxg2.js";import{B as a}from"./createLucideIcon-DFrWijeY.js";import{C as x,b as C,c as D,a as p}from"./card-BVqkHker.js";import{I as T}from"./input-CJV-sHSj.js";import{B as _}from"./badge-DACOarVS.js";import{T as y,a as E,b as j,c as r,d as k,e as t}from"./table-DWOa2mb6.js";import{D as B,a as H,b as M,c}from"./dropdown-menu-D4CvIBbD.js";import{A as m,D as P}from"./dashboard-pagination-B-eahZJS.js";import{P as A}from"./plus-WKioG1_P.js";import{S as u}from"./search-DIo_lF2b.js";import{D as I}from"./trending-up-CnV6C5VB.js";import{E as L}from"./ellipsis-D86aia3Q.js";import{E as $}from"./eye-CcwqnjoE.js";import{S as F}from"./square-pen-DIXm4Jgo.js";import{T as R}from"./trash-2-D8mhwF3d.js";/* empty css            */import"./index-Deh3jF4w.js";import"./index-BuDJYdP8.js";import"./index-BRZr46A0.js";import"./app-logo-icon-C1vkD9NY.js";import"./index-CMWG4mbA.js";import"./log-out-Bm0qt3af.js";import"./chevron-left-x9wACiTp.js";function me({sponsors:l,filters:o}){const[h,f]=w.useState(o.search||""),N=s=>{s.preventDefault(),d.get("/dashboard/sponsors",{...o,search:h},{preserveState:!0,replace:!0})},n=s=>{const g=o.sort===s&&o.direction==="asc"?"desc":"asc";d.get("/dashboard/sponsors",{...o,sort:s,direction:g},{preserveState:!0,replace:!0})},b=s=>{confirm("Delete this sponsor? This is a soft delete.")&&d.delete(`/dashboard/sponsors/${s}`)};return e.jsxs(v,{breadcrumbs:[{title:"Dashboard",href:"/dashboard"},{title:"Sponsors",href:"/dashboard/sponsors"}],children:[e.jsx(S,{title:"Sponsors"}),e.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sponsors"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage sponsor accounts, balances and allocations"})]}),e.jsx(i,{href:"/dashboard/sponsors/create",children:e.jsxs(a,{children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"New Sponsor"]})})]}),e.jsxs(x,{children:[e.jsx(C,{children:e.jsxs(D,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"Search"]})}),e.jsx(p,{children:e.jsxs("form",{onSubmit:N,className:"flex gap-3",children:[e.jsxs("div",{className:"relative grow",children:[e.jsx(u,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(T,{value:h,onChange:s=>f(s.target.value),placeholder:"Search full name, email, phone...",className:"pl-9"})]}),e.jsx(a,{type:"submit",children:"Search"})]})})]}),e.jsx(x,{children:e.jsxs(p,{className:"p-0",children:[e.jsxs(y,{children:[e.jsx(E,{children:e.jsxs(j,{children:[e.jsx(r,{children:e.jsxs(a,{variant:"ghost",className:"h-auto p-0 font-semibold",onClick:()=>n("full_name"),children:["Full Name ",e.jsx(m,{className:"ml-2 h-4 w-4"})]})}),e.jsx(r,{children:"Email"}),e.jsx(r,{children:"Phone"}),e.jsx(r,{children:e.jsxs(a,{variant:"ghost",className:"h-auto p-0 font-semibold",onClick:()=>n("current_amount"),children:["Balance ",e.jsx(m,{className:"ml-2 h-4 w-4"})]})}),e.jsx(r,{children:e.jsxs(a,{variant:"ghost",className:"h-auto p-0 font-semibold",onClick:()=>n("created_at"),children:["Created ",e.jsx(m,{className:"ml-2 h-4 w-4"})]})}),e.jsx(r,{className:"w-12"})]})}),e.jsx(k,{children:l.data.map(s=>e.jsxs(j,{children:[e.jsx(t,{className:"font-medium",children:s.full_name}),e.jsx(t,{children:s.email}),e.jsx(t,{children:s.phone||"-"}),e.jsx(t,{className:"whitespace-nowrap",children:e.jsxs(_,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(I,{className:"h-3 w-3"}),s.formatted_current_amount??`${Number(s.current_amount).toFixed(2)} USD`]})}),e.jsx(t,{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(t,{children:e.jsxs(B,{children:[e.jsx(H,{asChild:!0,children:e.jsx(a,{variant:"ghost",size:"sm",children:e.jsx(L,{className:"h-4 w-4"})})}),e.jsxs(M,{align:"end",children:[e.jsx(c,{asChild:!0,children:e.jsxs(i,{href:`/dashboard/sponsors/${s.id}`,children:[e.jsx($,{className:"mr-2 h-4 w-4"})," View"]})}),e.jsx(c,{asChild:!0,children:e.jsxs(i,{href:`/dashboard/sponsors/${s.id}/edit`,children:[e.jsx(F,{className:"mr-2 h-4 w-4"})," Edit"]})}),e.jsxs(c,{className:"text-destructive",onClick:()=>b(s.id),children:[e.jsx(R,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})})]},s.id))})]}),l.data.length===0&&e.jsx("div",{className:"py-12 text-center text-muted-foreground",children:"No sponsors found."})]})}),e.jsx(P,{data:l})]})]})}export{me as default};
