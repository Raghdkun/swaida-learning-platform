import{r as i,j as e,H as q,L as p,a as o}from"./app-BT-tp4DF.js";import{B as t}from"./createLucideIcon-Bc3a1VGN.js";import{I as R}from"./input-CoW4zbpI.js";import{B as F}from"./badge-CO471l6V.js";import{C as f,b,c as C,a as g}from"./card-ReTSKCj9.js";import{T as U,a as $,b as w,c as n,d as G,e as d}from"./table-BcQLbOiI.js";import{C as T}from"./checkbox-ClMAMiUy.js";import{S as y,a as k,b as D,c as _,d as h}from"./select-38B6me0A.js";import{A,D as J}from"./dashboard-pagination-d8Ea7Ax8.js";import{A as K,q as Q,r as W,t as X,n as B,v as Y,w as Z}from"./app-layout-SZxPr5tq.js";import{P as ee}from"./plus-DGZYwcFe.js";import{S as se}from"./search-DylzvocO.js";import{T as H}from"./trash-2-CkENvZMs.js";import{E as ae}from"./eye-acqWCW10.js";import{S as re}from"./square-pen-COSnjLiT.js";/* empty css            */import"./index-DFtBUkQ6.js";import"./index-iM9ANkEv.js";import"./index-yQFe1XQA.js";import"./check-C5k-a0M6.js";import"./dropdown-menu-Dnb6YBGc.js";import"./index-BuKo0MI6.js";import"./chevron-left-DGU2XYHO.js";import"./ellipsis-ChuRS0Pe.js";import"./app-logo-icon-C8K-elLU.js";import"./index-CMWG4mbA.js";import"./log-out-CiJBdlmn.js";import"./trending-up-AkU4lzWN.js";function He({tags:l,filters:x}){const z=[{title:"Dashboard",href:"/dashboard"},{title:"Tags",href:"/dashboard/tags"}],[a,c]=i.useState([]),[m,E]=i.useState(x.search||""),[j,v]=i.useState(x.sort_by||"name"),[u,S]=i.useState(x.sort_order||"asc"),L=s=>{s.preventDefault(),o.get(B.url({search:m,sort_by:j,sort_order:u}),{},{preserveState:!0,replace:!0})},N=s=>{const r=j===s&&u==="asc"?"desc":"asc";o.get(B.url({search:m,sort_by:s,sort_order:r}),{},{preserveState:!0,replace:!0}),v(s),S(r)},O=s=>{c(s?l.data.map(r=>r.id):[])},P=(s,r)=>{c(r?[...a,s]:a.filter(V=>V!==s))},I=()=>{a.length!==0&&confirm(`Are you sure you want to delete ${a.length} tag(s)?`)&&o.delete(Y.url(),{data:{ids:a},onSuccess:()=>c([])})},M=s=>{confirm("Are you sure you want to delete this tag?")&&o.delete(Z.url({tag:s}))};return e.jsxs(K,{breadcrumbs:z,children:[e.jsx(q,{title:"Tags Management"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Tags Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage course tags and their associations"})]}),e.jsx(p,{href:Q.url(),children:e.jsxs(t,{children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Add Tag"]})})]}),e.jsxs(f,{children:[e.jsx(b,{children:e.jsx(C,{children:"Filters"})}),e.jsx(g,{children:e.jsxs("form",{onSubmit:L,className:"flex gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(R,{placeholder:"Search tags...",value:m,onChange:s=>E(s.target.value),className:"max-w-sm"})}),e.jsxs(y,{value:j,onValueChange:v,children:[e.jsx(k,{className:"w-[180px]",children:e.jsx(D,{placeholder:"Sort by"})}),e.jsxs(_,{children:[e.jsx(h,{value:"name",children:"Name"}),e.jsx(h,{value:"created_at",children:"Created Date"})]})]}),e.jsxs(y,{value:u,onValueChange:S,children:[e.jsx(k,{className:"w-[120px]",children:e.jsx(D,{placeholder:"Order"})}),e.jsxs(_,{children:[e.jsx(h,{value:"asc",children:"Ascending"}),e.jsx(h,{value:"desc",children:"Descending"})]})]}),e.jsxs(t,{type:"submit",children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Search"]})]})})]}),a.length>0&&e.jsx(f,{children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.length," tag(s) selected"]}),e.jsxs(t,{variant:"destructive",size:"sm",onClick:I,children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Delete Selected"]})]})})}),e.jsxs(f,{children:[e.jsx(b,{children:e.jsxs(C,{children:["Tags (",l?.total||0,")"]})}),e.jsxs(g,{children:[e.jsxs(U,{children:[e.jsx($,{children:e.jsxs(w,{children:[e.jsx(n,{className:"w-12",children:e.jsx(T,{checked:a.length===l.data.length&&l.data.length>0,onCheckedChange:O})}),e.jsx(n,{children:e.jsxs(t,{variant:"ghost",onClick:()=>N("name"),children:["Name",e.jsx(A,{className:"ml-2 h-4 w-4"})]})}),e.jsx(n,{children:"Courses"}),e.jsx(n,{children:e.jsxs(t,{variant:"ghost",onClick:()=>N("created_at"),children:["Created",e.jsx(A,{className:"ml-2 h-4 w-4"})]})}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(G,{children:l.data.map(s=>e.jsxs(w,{children:[e.jsx(d,{children:e.jsx(T,{checked:a.includes(s.id),onCheckedChange:r=>P(s.id,r)})}),e.jsx(d,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-muted-foreground",children:s.slug})]})}),e.jsx(d,{children:e.jsxs(F,{variant:"secondary",children:[s.courses_count," course",s.courses_count!==1?"s":""]})}),e.jsx(d,{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(d,{className:"text-right",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(p,{href:W.url({tag:s.id}),children:e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(ae,{className:"h-4 w-4"})})}),e.jsx(p,{href:X.url({tag:s.id}),children:e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(re,{className:"h-4 w-4"})})}),e.jsx(t,{variant:"ghost",size:"sm",onClick:()=>M(s.id),className:"text-destructive hover:text-destructive",children:e.jsx(H,{className:"h-4 w-4"})})]})})]},s.id))})]}),e.jsx(J,{data:l})]})]})]})]})}export{He as default};
