import{r as p,j as e,H as j}from"./app-ByqFfibK.js";import{P as b}from"./public-layout-tF-FmYi-.js";import{u as y,C as N}from"./course-pagination-Dubm0tul.js";import{C as w}from"./course-filters-BtYed-AC.js";import{C}from"./course-grid-oZPE3W8R.js";import{B as F}from"./badge-BQt3yToO.js";import{B as k}from"./createLucideIcon-1Mp7Gqdz.js";import{C as _,a as B}from"./card-BPjGKEHP.js";import{S}from"./separator-Bn6M7CV2.js";import{u as A}from"./use-translation-CAdZyV69.js";import{S as x}from"./search-SgpT0bM2.js";import{F as O}from"./filter-0iH0H4rR.js";import{B as P}from"./dropdown-menu-LbdkPehs.js";import{C as R}from"./globe-7IgzLqLD.js";import{C as D}from"./select-WN_IQr-R.js";import{R as $}from"./rotate-ccw-MWReTsyq.js";/* empty css            */import"./arrow-left-C1oPCkFn.js";import"./ellipsis-pkzOaNy1.js";import"./collapsible-BhHIJTFS.js";import"./index-CjNSEtXh.js";import"./index-BMFy-bCL.js";import"./input-BjaqlN3o.js";import"./checkbox-2YMfYG7o.js";import"./index-DvDWvjGE.js";import"./check-D1dmdbxb.js";import"./label-D3AOE3wJ.js";import"./sparkles-D5MpEqMw.js";import"./trending-up-DcU5g1xb.js";import"./award-C7dxMzzJ.js";import"./index-B4CgvCL3.js";import"./external-link-BfEw19dS.js";function xe({courses:h,filters:f,current_filters:m,searchQuery:o}){const{t:s}=A(),{courses:g,meta:r,loading:l,setFilters:n,resetFilters:c,filters:i}=y({initialData:h,initialFilters:{...m,search:m?.search??o??""}}),u=p.useMemo(()=>{const a=i||{};return Object.keys(a).some(d=>{const t=a[d];return t!=null&&t!==""&&(!Array.isArray(t)||t.length>0)})},[i]),v=p.useMemo(()=>{const a=i||{};return Object.keys(a).filter(d=>{const t=a[d];return t!=null&&t!==""&&(!Array.isArray(t)||t.length>0)}).length},[i]);return e.jsxs(b,{children:[e.jsx(j,{title:`${s("search.badge")}: ${o||""}`}),e.jsxs("div",{className:"relative bg-gradient-to-br from-primary/5 via-background to-secondary/5 border-b overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.02] bg-grid-16"}),e.jsx("div",{className:"absolute top-5 right-20 w-16 h-16 bg-primary/10 rounded-full blur-xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-5 left-20 w-12 h-12 bg-secondary/10 rounded-full blur-xl animate-pulse delay-1000"}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"container mx-auto px-4 py-12 lg:py-16",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center space-y-4 animate-in fade-in-50 duration-700",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-primary text-sm font-medium transition-all duration-300 hover:scale-105 hover:bg-primary/20",children:[e.jsx(x,{className:"h-4 w-4"}),s("search.badge")]}),e.jsx("h1",{className:"text-3xl lg:text-5xl font-bold tracking-tight animate-in slide-in-from-bottom-5 duration-500",children:e.jsxs("span",{className:"bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent",children:['"',(o??"").toString(),'"']})}),e.jsx("p",{className:"text-muted-foreground animate-in fade-in-50 duration-700 delay-200",children:s("search.subtitle")})]})})})]}),e.jsx("div",{className:"container mx-auto px-4 py-8 animate-in fade-in-50 duration-500",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-8 space-y-6",children:e.jsx(_,{className:"border-2 border-primary/10 shadow-sm hover:shadow-md transition-all duration-300 hover:-translate-y-1",children:e.jsxs(B,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10 group-hover:scale-110 transition-transform duration-300",children:e.jsx(O,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold",children:s("sidebar_filters.filters")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s("sidebar_filters.refine_results")})]})]}),u&&e.jsx(F,{variant:"secondary",className:"text-xs font-medium px-3 py-1 animate-pulse",children:s("filters.active",{count:v})})]}),e.jsx(w,{filters:i,filterOptions:f,onFiltersChange:n,onResetFilters:c,loading:l})]})})})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-6 animate-in slide-in-from-right-5 duration-500",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold flex items-center gap-2",children:r?.total&&r.total>0?e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-6 w-6 text-primary animate-pulse"}),s("courses.results.courses_found",{count:r.total})]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"h-6 w-6 text-muted-foreground"}),s("search.no_results",{query:o})]})}),r?.total&&r.total>0&&e.jsxs("p",{className:"text-muted-foreground flex items-center gap-2 mt-1 animate-in fade-in-50 duration-500 delay-200",children:[e.jsx(R,{className:"h-4 w-4"}),s("courses.results.showing",{from:r.from,to:r.to,total:r.total})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:s("courses.sort.label")}),e.jsxs("div",{className:"relative group",children:[e.jsxs("select",{className:"px-3 py-2 border border-border rounded-md bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all duration-200 group-hover:scale-105 group-hover:border-primary/50",value:i?.sort??"newest",onChange:a=>n({sort:a.target.value}),children:[e.jsx("option",{value:"newest",children:s("courses.sort.newest")}),e.jsx("option",{value:"oldest",children:s("courses.sort.oldest")}),e.jsx("option",{value:"price-low",children:s("courses.sort.price_low")}),e.jsx("option",{value:"price-high",children:s("courses.sort.price_high")}),e.jsx("option",{value:"title",children:s("courses.sort.title")}),e.jsx("option",{value:"popularity",children:s("courses.sort.popularity")})]}),e.jsx(D,{className:"h-4 w-4 absolute right-2 top-1/2 transform -translate-y-1/2 text-muted-foreground pointer-events-none transition-transform duration-200 group-hover:scale-110"})]})]}),u&&e.jsxs(k,{variant:"outline",onClick:c,disabled:l,className:"shrink-0 border-2 hover:bg-destructive/5 hover:border-destructive/20 hover:text-destructive transition-all duration-200 hover:scale-105 active:scale-95",children:[e.jsx($,{className:"h-4 w-4 mr-2"}),s("search.reset_filters")]})]})]}),e.jsx(S,{className:"mb-8 animate-in fade-in-50 duration-500 delay-300"}),e.jsx("div",{className:"animate-in fade-in-50 duration-500 delay-400",children:e.jsx(C,{courses:g,loading:l})}),!!r?.last_page&&r.last_page>1&&e.jsx("div",{className:"mt-12 animate-in fade-in-50 duration-500 delay-500",children:e.jsx(N,{meta:r,onPageChange:a=>n({page:a}),loading:l})})]})]})})]})}export{xe as default};
