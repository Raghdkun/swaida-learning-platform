import{r as k,j as e,H as $,L as x,a as h}from"./app-XCWzyg_D.js";import{A as I}from"./app-layout-VYuuSxg2.js";import{B as c}from"./createLucideIcon-DFrWijeY.js";import{I as U}from"./input-CJV-sHSj.js";import{B as d}from"./badge-DACOarVS.js";import{T as z,a as R,b as T,c as l,d as q,e as t}from"./table-DWOa2mb6.js";import{S as u,a as g,b as f,c as b,d as o}from"./select-qUYEx36n.js";import{D as Y,a as G,b as J,c as N}from"./dropdown-menu-D4CvIBbD.js";import{C as v,b as K,c as O,a as C}from"./card-BVqkHker.js";import{C as A}from"./checkbox-C91pgwyx.js";import{A as D,D as Q}from"./dashboard-pagination-B-eahZJS.js";import{P as E}from"./plus-WKioG1_P.js";import{F as W}from"./filter-CYYFhX_p.js";import{S as X}from"./search-DIo_lF2b.js";import{T as F}from"./trash-2-D8mhwF3d.js";import{E as Z}from"./ellipsis-D86aia3Q.js";import{E as ee}from"./eye-CcwqnjoE.js";import{S as se}from"./square-pen-DIXm4Jgo.js";/* empty css            */import"./index-Deh3jF4w.js";import"./index-BuDJYdP8.js";import"./index-BRZr46A0.js";import"./app-logo-icon-C1vkD9NY.js";import"./index-CMWG4mbA.js";import"./log-out-Bm0qt3af.js";import"./trending-up-CnV6C5VB.js";import"./index-CW6f19fI.js";import"./check-BydVkFPn.js";import"./chevron-left-x9wACiTp.js";const ae=[{title:"Dashboard",href:"/dashboard"},{title:"Courses",href:"/dashboard/courses"}],re={beginner:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",intermediate:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",advanced:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"};function Pe({courses:n,categories:L,levels:P,filters:r}){const[i,m]=k.useState([]),[w,B]=k.useState(r.search||""),S=s=>{s.preventDefault(),h.get("/dashboard/courses",{...r,search:w},{preserveState:!0,replace:!0})},j=(s,a)=>{const p=a==="all"?void 0:a;h.get("/dashboard/courses",{...r,[s]:p},{preserveState:!0,replace:!0})},y=s=>{const a=r.sort===s&&r.direction==="asc"?"desc":"asc";h.get("/dashboard/courses",{...r,sort:s,direction:a},{preserveState:!0,replace:!0})},M=s=>{confirm("Are you sure you want to delete this course?")&&h.delete(`/dashboard/courses/${s}`,{preserveScroll:!0})},V=()=>{i.length!==0&&confirm(`Are you sure you want to delete ${i.length} courses?`)&&h.delete("/dashboard/courses",{data:{ids:i},preserveScroll:!0,onSuccess:()=>m([])})},H=s=>{m(a=>a.includes(s)?a.filter(p=>p!==s):[...a,s])},_=()=>{m(s=>s.length===n.data.length?[]:n.data.map(a=>a.id))};return e.jsxs(I,{breadcrumbs:ae,children:[e.jsx($,{title:"Manage Courses"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Courses"}),e.jsx("p",{className:"text-muted-foreground",children:"Manage your learning platform courses"})]}),e.jsx(x,{href:"/dashboard/courses/create",children:e.jsxs(c,{children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Add Course"]})})]}),e.jsxs(v,{children:[e.jsx(K,{children:e.jsxs(O,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-5 w-5"}),"Filters"]})}),e.jsx(C,{children:e.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-end",children:[e.jsx("form",{onSubmit:S,className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(U,{placeholder:"Search courses...",value:w,onChange:s=>B(s.target.value),className:"pl-10"})]})}),e.jsxs(u,{value:r.category||"all",onValueChange:s=>j("category",s),children:[e.jsx(g,{className:"w-[180px]",children:e.jsx(f,{placeholder:"All Categories"})}),e.jsxs(b,{children:[e.jsx(o,{value:"all",children:"All Categories"}),L.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id))]})]}),e.jsxs(u,{value:r.level||"all",onValueChange:s=>j("level",s),children:[e.jsx(g,{className:"w-[180px]",children:e.jsx(f,{placeholder:"All Levels"})}),e.jsxs(b,{children:[e.jsx(o,{value:"all",children:"All Levels"}),P.map(s=>e.jsx(o,{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))]})]}),e.jsxs(u,{value:r.type||"all",onValueChange:s=>j("type",s),children:[e.jsx(g,{className:"w-[180px]",children:e.jsx(f,{placeholder:"All Types"})}),e.jsxs(b,{children:[e.jsx(o,{value:"all",children:"All Types"}),e.jsx(o,{value:"free",children:"Free Courses"}),e.jsx(o,{value:"paid",children:"Paid Courses"})]})]}),e.jsx(c,{type:"submit",onClick:S,children:"Search"})]})})]}),i.length>0&&e.jsx(v,{children:e.jsx(C,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[i.length," course(s) selected"]}),e.jsxs(c,{variant:"destructive",size:"sm",onClick:V,children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Delete Selected"]})]})})}),e.jsx(v,{children:e.jsxs(C,{className:"p-0",children:[e.jsxs(z,{children:[e.jsx(R,{children:e.jsxs(T,{children:[e.jsx(l,{className:"w-12",children:e.jsx(A,{checked:i.length===n.data.length&&n.data.length>0,onCheckedChange:_})}),e.jsx(l,{children:e.jsxs(c,{variant:"ghost",onClick:()=>y("title"),className:"h-auto p-0 font-semibold",children:["Title",e.jsx(D,{className:"ml-2 h-4 w-4"})]})}),e.jsx(l,{children:"Category"}),e.jsx(l,{children:"Level"}),e.jsx(l,{children:"Platform"}),e.jsx(l,{children:"Price"}),e.jsx(l,{children:"Certificate"}),e.jsx(l,{children:e.jsxs(c,{variant:"ghost",onClick:()=>y("created_at"),className:"h-auto p-0 font-semibold",children:["Created",e.jsx(D,{className:"ml-2 h-4 w-4"})]})}),e.jsx(l,{className:"w-12"})]})}),e.jsx(q,{children:n.data.map(s=>e.jsxs(T,{children:[e.jsx(t,{children:e.jsx(A,{checked:i.includes(s.id),onCheckedChange:()=>H(s.id)})}),e.jsx(t,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"font-medium",children:s.title}),e.jsx("div",{className:"text-sm text-muted-foreground line-clamp-2",children:s.description}),s.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[s.tags.slice(0,3).map(a=>e.jsx(d,{variant:"secondary",className:"text-xs",children:a.name},a.id)),s.tags.length>3&&e.jsxs(d,{variant:"secondary",className:"text-xs",children:["+",s.tags.length-3]})]})]})}),e.jsx(t,{children:e.jsx(d,{variant:"outline",children:s.category.name})}),e.jsx(t,{children:e.jsx(d,{className:re[s.level],children:s.level.charAt(0).toUpperCase()+s.level.slice(1)})}),e.jsx(t,{children:s.platform}),e.jsx(t,{children:s.price?e.jsxs(d,{className:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",children:["$",Number(s.price).toFixed(2)]}):e.jsx(d,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Free"})}),e.jsx(t,{children:s.have_cert?e.jsx(d,{className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",children:"Yes"}):e.jsx(d,{variant:"secondary",children:"No"})}),e.jsx(t,{children:new Date(s.created_at).toLocaleDateString()}),e.jsx(t,{children:e.jsxs(Y,{children:[e.jsx(G,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"sm",children:e.jsx(Z,{className:"h-4 w-4"})})}),e.jsxs(J,{align:"end",children:[e.jsx(N,{asChild:!0,children:e.jsxs(x,{href:`/dashboard/courses/${s.id}`,children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"View"]})}),e.jsx(N,{asChild:!0,children:e.jsxs(x,{href:`/dashboard/courses/${s.id}/edit`,children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Edit"]})}),e.jsxs(N,{onClick:()=>M(s.id),className:"text-destructive",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},s.id))})]}),n.data.length===0&&e.jsxs("div",{className:"py-12 text-center",children:[e.jsx("p",{className:"text-muted-foreground",children:"No courses found."}),e.jsx(x,{href:"/dashboard/courses/create",children:e.jsxs(c,{className:"mt-4",children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Create your first course"]})})]})]})}),e.jsx(Q,{data:n})]})]})}export{Pe as default};
