import{r as a,a as $,j as s}from"./app-BT-tp4DF.js";import{B as S}from"./createLucideIcon-Bc3a1VGN.js";import{u as L}from"./use-translation-tsI-dM14.js";import{A as z}from"./arrow-left-BJvEvrHh.js";import{E as M}from"./ellipsis-ChuRS0Pe.js";import{A as R}from"./collapsible-BD7jXYyw.js";function D(v={}){const{initialData:i,initialFilters:m={},autoFetch:d=!0}=v,[t,r]=a.useState(i?.data||[]),[x,g]=a.useState(i?.meta||null),[b,k]=a.useState("links"in(i||{})?i.links:null),[n,e]=a.useState(m),[f,o]=a.useState(!1),[j,h]=a.useState(null),c=a.useCallback(async l=>{o(!0),h(null);try{const u=l||n,w=new URLSearchParams;Object.entries(u).forEach(([E,p])=>{p!=null&&p!==""&&(Array.isArray(p)?p.forEach(P=>w.append(`${E}[]`,P.toString())):w.append(E,p.toString()))});const C=await fetch(`/api/courses?${w.toString()}`);if(!C.ok)throw new Error("Failed to fetch courses");const y=await C.json();r(y?.data||[]),g(y?.meta||null),k(y?.links||null)}catch(u){h(u instanceof Error?u.message:"An error occurred")}finally{o(!1)}},[n]),N=a.useCallback(l=>{const u={...n,...l};e(u),c(u)},[n,c]),A=a.useCallback(()=>{const l={};e(l),c(l),$.get(route("courses.index"),{},{preserveState:!0,preserveScroll:!0})},[c]),F=a.useCallback(l=>{N({...n,page:l})},[n,N]);return a.useEffect(()=>{d&&c()},[c,d]),{courses:t,meta:x,links:b,filters:n,loading:f,error:j,setFilters:N,resetFilters:A,fetchCourses:c,goToPage:F}}function J({meta:v,onPageChange:i,loading:m=!1}){const{t:d}=L(),{current_page:t,last_page:r,from:x,to:g,total:b}=v,n=(()=>{const e=[];if(r<=7)for(let o=1;o<=r;o++)e.push(o);else{e.push(1),t>3&&e.push("...");const o=Math.max(2,t-1),j=Math.min(r-1,t+1);for(let h=o;h<=j;h++)e.push(h);t<r-2&&e.push("..."),r>1&&e.push(r)}return e})();return r<=1?null:s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 p-6 bg-gradient-to-r from-muted/20 to-muted/10 rounded-lg border",children:[s.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-pulse"}),d("courses.results.showing",{from:x,to:g,total:b})||`Showing ${x} - ${g} of ${b} results`]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(S,{variant:"outline",size:"sm",onClick:()=>i(t-1),disabled:t<=1||m,className:"flex items-center gap-1 transition-all duration-200 hover:scale-105 active:scale-95 disabled:hover:scale-100",children:[s.jsx(z,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:d("pagination.previous")??"Previous"})]}),s.jsx("div",{className:"flex items-center gap-1 mx-2",children:n.map((e,f)=>s.jsx("div",{children:e==="..."?s.jsx("div",{className:"flex items-center justify-center w-8 h-8",children:s.jsx(M,{className:"h-4 w-4 text-muted-foreground animate-pulse"})}):s.jsx(S,{variant:t===e?"default":"outline",size:"sm",onClick:()=>i(e),disabled:m,className:`w-8 h-8 p-0 transition-all duration-200 hover:scale-110 active:scale-95 ${t===e?"shadow-lg hover:shadow-xl":"hover:border-primary/50 hover:bg-primary/5"}`,children:e})},f))}),s.jsxs(S,{variant:"outline",size:"sm",onClick:()=>i(t+1),disabled:t>=r||m,className:"flex items-center gap-1 transition-all duration-200 hover:scale-105 active:scale-95 disabled:hover:scale-100",children:[s.jsx("span",{className:"hidden sm:inline",children:d("pagination.next")??"Next"}),s.jsx(R,{className:"h-4 w-4"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("span",{children:"Jump to:"}),s.jsx("select",{className:"bg-background border rounded px-2 py-1 text-sm transition-all duration-200 hover:border-primary/50 focus:border-primary",value:t,onChange:e=>i(Number(e.target.value)),disabled:m,children:Array.from({length:r},(e,f)=>f+1).map(e=>s.jsxs("option",{value:e,children:["Page ",e]},e))})]})]})}export{J as C,D as u};
